import"./modulepreload-polyfill-B5Qt9EMX.js";import{G as v,W as k,S as L,s as r,E as f,M as x,T as y,a as G,P as S,A as E,O as R,c as T,l as H,b as c,d as I}from"./index-Btor9uwS.js";import{K as C,r as F,G as K}from"./constants-CbqDOwc8.js";import{R as P}from"./RGBELoader-4XjZvR8t.js";const l=new v,m={envMapIntensity:1},a={width:window.innerWidth,height:window.innerHeight},g=document.querySelector("canvas.webgl");if(g===null)throw new Error("Cannot find the canvas element");const n=new k({canvas:g,antialias:!0});n.setSize(a.width,a.height);n.setPixelRatio(Math.min(window.devicePixelRatio,2));n.autoClear=!1;const t=new L,p=()=>{t.traverse(e=>{if(e.isMesh&&e.material.isMeshStandardMaterial){const M=e.material;M.envMapIntensity=m.envMapIntensity}})},_=r({title:"environment map"}),j=r({title:"gltf"}),A=r({title:"ktx2"}),B=new P(_);B.load("https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/cobblestone_street_night_2k.hdr",e=>{e.mapping=f,t.environment=e,t.background=e});t.backgroundBlurriness=0;t.backgroundIntensity=1;const q=new C(A).setTranscoderPath(`${F}/jsm_libs_basis/`).detectSupport(n),h=new K(j);h.setKTX2Loader(q);h.load("https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/models/FlightHelmet/glTF-KTX-BasisU/FlightHelmet.gltf",e=>{e.scene.scale.set(10,10,10),e.scene.position.set(0,-3,0),t.add(e.scene),p()});const u=new x(new y(1,.4,100,16),new G({roughness:.3,metalness:1,color:11184810}));u.position.set(-4,0,0);t.add(u);const s=new S(70,a.width/a.height,.1,1e3);s.position.set(1.3,3,8);const w=new E(5);w.position.set(0,-3,0);t.add(w);const i=new R(s,n.domElement);i.enableDamping=!0;const o=T(s,n.domElement),z=new I,b=()=>{c.begin(),n.clear(),i.update();const e=z.getDelta();o.animating&&o.update(e),n.render(t,s),o.render(n),c.end(),requestAnimationFrame(b)};b();H(a,s,n);l.add(i,"autoRotate");const d=l.addFolder("Environment");d.add(t,"backgroundBlurriness").min(0).max(.2).step(.001);d.add(t,"backgroundIntensity").min(0).max(5).step(.001);d.add(m,"envMapIntensity").min(0).max(10).step(.001).onChange(p);
