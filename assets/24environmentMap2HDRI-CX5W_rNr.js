import"./modulepreload-polyfill-B5Qt9EMX.js";import{G as v,W as k,S as L,s as i,E as f,K as x,r as y,a as S,M as E,T as G,b as R,P as T,A as H,O as I,c as C,l as F,d as c,e as K}from"./index-Bx9CeBaI.js";import{R as P}from"./RGBELoader-CSYAIqnU.js";const l=new v,m={envMapIntensity:1},a={width:window.innerWidth,height:window.innerHeight},g=document.querySelector("canvas.webgl");if(g===null)throw new Error("Cannot find the canvas element");const n=new k({canvas:g,antialias:!0});n.setSize(a.width,a.height);n.setPixelRatio(Math.min(window.devicePixelRatio,2));n.autoClear=!1;const t=new L,p=()=>{t.traverse(e=>{if(e.isMesh&&e.material.isMeshStandardMaterial){const M=e.material;M.envMapIntensity=m.envMapIntensity}})},_=i({title:"environment map"}),j=i({title:"gltf"}),A=i({title:"ktx2"}),B=new P(_);B.load("https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/cobblestone_street_night_2k.hdr",e=>{e.mapping=f,t.environment=e,t.background=e});t.backgroundBlurriness=0;t.backgroundIntensity=1;const q=new x(A).setTranscoderPath(`${y}/jsm_libs_basis/`).detectSupport(n),h=new S(j);h.setKTX2Loader(q);h.load("https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/models/FlightHelmet/glTF-KTX-BasisU/FlightHelmet.gltf",e=>{e.scene.scale.set(10,10,10),e.scene.position.set(0,-3,0),t.add(e.scene),p()});const u=new E(new G(1,.4,100,16),new R({roughness:.3,metalness:1,color:11184810}));u.position.set(-4,0,0);t.add(u);const s=new T(70,a.width/a.height,.1,1e3);s.position.set(1.3,3,8);const w=new H(5);w.position.set(0,-3,0);t.add(w);const r=new I(s,n.domElement);r.enableDamping=!0;const o=C(s,n.domElement),z=new K,b=()=>{c.begin(),n.clear(),r.update();const e=z.getDelta();o.animating&&o.update(e),n.render(t,s),o.render(n),c.end(),requestAnimationFrame(b)};b();F(a,s,n);l.add(r,"autoRotate");const d=l.addFolder("Environment");d.add(t,"backgroundBlurriness").min(0).max(.2).step(.001);d.add(t,"backgroundIntensity").min(0).max(5).step(.001);d.add(m,"envMapIntensity").min(0).max(10).step(.001).onChange(p);
