import"./modulepreload-polyfill-B5Qt9EMX.js";import{G as S,W as y,S as x,s as i,C as G,M as L,T as k,a as T,P as f,A as j,O as C,c as N,l as H,b as d,d as I}from"./index-HDcUnNI7.js";import{K as F,r as K,G as z}from"./constants-CSYrV9sl.js";const l=new S,p={envMapIntensity:3},a={width:window.innerWidth,height:window.innerHeight},g=document.querySelector("canvas.webgl");if(g===null)throw new Error("Cannot find the canvas element");const t=new y({canvas:g,antialias:!0});t.setSize(a.width,a.height);t.setPixelRatio(Math.min(window.devicePixelRatio,2));t.autoClear=!1;const e=new x,h=()=>{e.traverse(n=>{if(n.isMesh&&n.material.isMeshStandardMaterial){const M=n.material;M.envMapIntensity=p.envMapIntensity}})},E=i({title:"environment map"}),P=i({title:"gltf"}),R=i({title:"ktx2"}),A=new G(E),B=["https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/px.png","https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/nx.png","https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/py.png","https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/ny.png","https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/pz.png","https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/environmentMap/cobbleStoneStreetNight/nz.png"],m=A.load(B);e.environment=m;e.background=m;e.backgroundBlurriness=0;e.backgroundIntensity=1;const O=new F(R).setTranscoderPath(`${K}/jsm_libs_basis/`).detectSupport(t),b=new z(P);b.setKTX2Loader(O);b.load("https://cdn.jsdelivr.net/gh/Gaohaoyang/pics/models/FlightHelmet/glTF-KTX-BasisU/FlightHelmet.gltf",n=>{n.scene.scale.set(10,10,10),n.scene.position.set(0,-3,0),e.add(n.scene),h()});const v=new L(new k(1,.4,100,16),new T({roughness:.3,metalness:1,color:11184810}));v.position.set(-4,0,0);e.add(v);const s=new f(70,a.width/a.height,.1,1e3);s.position.set(1.3,3,8);const u=new j(5);u.position.set(0,-3,0);e.add(u);const r=new C(s,t.domElement);r.enableDamping=!0;const o=N(s,t.domElement),W=new I,w=()=>{d.begin(),t.clear(),r.update();const n=W.getDelta();o.animating&&o.update(n),t.render(e,s),o.render(t),d.end(),requestAnimationFrame(w)};w();H(a,s,t);l.add(r,"autoRotate");const c=l.addFolder("Environment");c.add(e,"backgroundBlurriness").min(0).max(.2).step(.001);c.add(e,"backgroundIntensity").min(0).max(5).step(.001);c.add(p,"envMapIntensity").min(0).max(10).step(.001).onChange(h);
